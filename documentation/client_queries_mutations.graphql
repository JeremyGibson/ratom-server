# RECOMMEND VSCODE EXT. prisma.vscode-graphql

# # # # # # # # # # # # # # #
# # #     Queries       # # #
# # # # # # # # # # # # # # #
query getAllMessages {
  allMessages(
    # filter: {pk: {value: 143}}
    # filter: {msgBody: {term: "bob" }}
    filter: { msgBody: { term: "bob" } }
    facets: [labels, sent_date]
    highlight: [msg_body]
  ) {
    facets
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    edges {
      node {
        labels
        id
        pk
        msgFrom
        sentDate
        processor
        collection
        highlight
      }
    }
  }
}

query getSingleMessage {
  message(pk: 13765) {
    id
    sentDate
    labels
    msgTo
    msgFrom
    processor {
      processed
      isRecord
      hasPii
    }
  }
}

# # # # # # # # # # # # # # #
# # #     MUTATION      # # #
# # # # # # # # # # # # # # #

mutation createProcessor {
  createProcessor(
    messageId: 143
    processed: true
    isRecord: false
    hasPii: false
  ) {
    processor {
      processed
      isRecord
      hasPii
      dateProcessed
      dateModified
    }
  }
}
