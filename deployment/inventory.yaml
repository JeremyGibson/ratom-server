all:
  children:
    k8s_clusters:
      vars:
        ansible_connection: local
      hosts:
        ratom-staging:
          env_name: staging
          k8s_kube_context: microk8s
          k8s_domain_names:
          - api-staging.caktus-built.com
          k8s_namespace: "api-{{ env_name }}"
          k8s_container_name: api
          k8s_container_image: govsanc/api-server
          k8s_container_image_tag: latest
          k8s_container_port: 8000
          k8s_container_ingress_paths:
          - /admin
          - /graphql
          - /django-static
          vault_database_password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            30656462333731386231643531613239613264383533363135316337356335663434363032653361
            3532306238383430316365383663396534623337646461640a326135303935303532353731393462
            64636430663932666262376365396132393466386631396633316632383737616466336638616237
            3836663532306662320a383630393633623764326537656235373964663265323664323636623535
            34316134373466666564333439346566303061373465663235306437626435363233663438633238
            6139306538373537393133306263633137383933613038626565
          vault_secret_key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            33653032303436346239616437316633376338613030376535343930656233333061633536663861
            3831303461343964636266356365373730366431353433330a623233376464646237633661343633
            63363861346137643461366636626662333836316537306131386336313162336564656539646138
            3838343835656161360a393331653262396630316539326164636633343133306237363331356466
            32616664343133363030346132326136353834613533396466353636383730663039306235666266
            35623563616130613234323630376261633130646561623739356538356632323332653964323063
            303634363162313466663837366465363466
          vault_elasticsearch_url: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            34383662356130393634303962343535663461396461653462663231376433666638393436636132
            6234323363363464313937323966636634656333323635330a396236623233313762396135653564
            65636538303661383161353539343964613333373532633262346538613131373362303938383230
            6265383663326138650a363635633662643032373535613037383664336433616438376161353064
            64633535333934386131623165323430313537383539313433353137653062363132666636353538
            39323965383432396139366431633033356662623465613666643333313939623731663266383836
            39666561333037633536376264396365666664376630666166333836373435336661323530353063
            35613665393161373161653230623966306632346231643261666532653539363966613332613631
            64616531356538346239343439333334366163366661336232306237333133613530
          k8s_environment_variables:
            DJANGO_SECRET_KEY: "{{ vault_secret_key }}"
            ENVIRONMENT: "{{ env_name }}"
            DATABASE_URL: "postgres://ratom_dev:{{ vault_database_password }}@rd24g7omgn9jon.cmrs9qsyjjbd.us-east-1.rds.amazonaws.com:5432/ratom_dev"
            CACHE_HOST: memcached:11211
            DOMAIN: "{{ k8s_domain_names[0] }}"
            SENTRY_DSN: https://a0ca0bdd3f3d4d66b0bb7baaaa322a81@sentry.caktus-built.com/18
            ELASTICSEARCH_URL: "{{ vault_elasticsearch_url }}"
