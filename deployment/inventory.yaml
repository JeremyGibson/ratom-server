all:
  children:
    k8s_clusters:
      vars:
        ansible_connection: local
      hosts:
        ratom-staging:
          env_name: staging
          k8s_kube_context: microk8s
          k8s_domain_names:
          - ratom-staging.caktus-built.com
          k8s_namespace: "ratom-{{ env_name }}"
          k8s_container_name: api
          k8s_container_image: govsanc/ratom-server
          k8s_container_image_tag: latest
          k8s_container_port: 8000
          k8s_container_ingress_paths:
          - /admin
          - /graphql
          - /django-static
          vault_database_password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            37613832666663373731643030363264343730323236323838363562336239383933386634633238
            6264643836643934306631383136363335386437663535310a303731373737353738633230616663
            32663663636234336161323330613164336566323263623164613032343561383536343832313466
            6139373566333539360a316130323566383837343663646430353338363737363432393764306639
            35633664303134396438323765343661623361373232336537656333653036656230613034306461
            6363353063303235356137623735313038656134323636346232
          vault_secret_key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            35393665636435383864626661643332636366373437626233386462313535393565393638663130
            6263313665316431623437363831646466333662653864330a333834633064393833616138666564
            65343565333132373563333135306364356637653766366134643562393961333763323562653661
            6362366463643631650a396633656639306132316163363063376436313566396462356362333236
            33333639363664656331393037643230306663343161313638646162316130643434616234363661
            38613466363066613362386463646432393936373637623533316239386536376638623830323333
            363432306264666136616234353736386133
          vault_elasticsearch_url: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            34383662356130393634303962343535663461396461653462663231376433666638393436636132
            6234323363363464313937323966636634656333323635330a396236623233313762396135653564
            65636538303661383161353539343964613333373532633262346538613131373362303938383230
            6265383663326138650a363635633662643032373535613037383664336433616438376161353064
            64633535333934386131623165323430313537383539313433353137653062363132666636353538
            39323965383432396139366431633033356662623465613666643333313939623731663266383836
            39666561333037633536376264396365666664376630666166333836373435336661323530353063
            35613665393161373161653230623966306632346231643261666532653539363966613332613631
            64616531356538346239343439333334366163366661336232306237333133613530
          k8s_environment_variables:
            DJANGO_SECRET_KEY: "{{ vault_secret_key }}"
            ENVIRONMENT: "{{ env_name }}"
            DATABASE_URL: "postgres://ratom_dev:{{ vault_database_password }}@rd24g7omgn9jon.cmrs9qsyjjbd.us-east-1.rds.amazonaws.com:5432/ratom_dev"
            CACHE_HOST: memcached:11211
            DOMAIN: "{{ k8s_domain_names[0] }}"
            SENTRY_DSN: https://a0ca0bdd3f3d4d66b0bb7baaaa322a81@sentry.caktus-built.com/18
            ELASTICSEARCH_URL: "{{ vault_elasticsearch_url }}"
